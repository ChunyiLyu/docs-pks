---
title: PKS Release Notes
owner: PKS
---

<strong><%= modified_date %></strong>

This topic contains release notes for Pivotal Container Service (PKS) v1.2.x.

## <a id="v1.2.4"></a>v1.2.4

**Release Date**: December 7, 2018

### <a id="v1.2.4-snapshot"></a>Product Snapshot

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.2.4</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>December 7, 2018</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.2.2+, v2.3.1+</td>
    </tr>
    <tr>
        <td>Stemcell version</td>
        <td>v97.34</td>
    </tr>
    <tr>
        <td>Kubernetes version</td>
        <td>v1.11.5</td>
    </tr>
    <tr>
        <td>On-Demand Broker version</td>
        <td>v0.24</td>
    </tr>
    <tr>
        <td>NSX-T versions</td>
        <td>v2.2, v2.3</td>
    </tr>
    <tr>
        <td>NCP version</td>
        <td>v2.3.1</td>
    </tr>
</table>

### <a id="v1.2.4-iaas"></a>Feature Support by IaaS

<table>
  <tr>
    <th></th>
    <th>AWS</th>
    <th>GCP</th>
    <th>vSphere</th>
    <th>vSphere with NSX-T</th>
  </tr>
  <tr>
    <th>Automatic PKS control plane load balancer</th>
    <td>&check;<sup>&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <th>Automatic cluster load balancer</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>HTTP proxy</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Multi-AZ storage</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Per-namespace subnets</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Service <code>type:LoadBalancer</code></th>
    <td>&check;<sup>&#42;&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td>&check;</td>
  </tr>
</table>

<sup>&#42;</sup> Enter the load balancer name in the **Resource Config** tab to connect the load balancer to the PKS control plane. For more information, see the [Resource Config](installing-pks-aws.html#resource-config) section of _Installing PKS on AWS_.

<sup>&#42;&#42;</sup> For more information about configuring Service `type:LoadBalancer` on AWS, see the [Access Workloads Using an Internal AWS Load Balancer](deploy-workloads.html#internal-lb) section of _Deploying and Accessing Basic Workloads_.

### <a id="v1.2.4-upgrade"></a>Upgrade Path

The supported upgrade paths to PKS v1.2.4 are from PKS v1.1.5 and later.

For more information, see [Upgrading PKS](upgrade-pks.html) and [Upgrading PKS with NSX-T](upgrade-pks-nsxt.html).

### <a id="v1.2.4-whats-new"></a>What's New

PKS v1.2.4 adds support for the following:

- * Sink resource support in internetless environments.
- * Support for Multiple Tier-0 routers in NSX-T.
- * Support for NSX-T ODB v0.24.
- * Support for bootstrap security group, custom floating IP, and edge router selection using network profiles.
- * Fix: Log files should no longer fill the ephemeral disk on Kubernetes API instances.
- * Fix: It is now possible to add a new plan to a tile, redeploy the tile and then create a cluster with this plan.
- * Fix: PKS delete cluster releases SNAT floating IP allocated for K8s name spaces.

### <a id="v1.2.4-known-issues"></a>Known Issues

There are no known issues.

## <a id="v1.2.3"></a>v1.2.3

**Release Date**: November 30, 2018

### <a id="v1.2.3-snapshot"></a>Product Snapshot

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.2.3</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>November 30, 2018</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.2.2+, v2.3.1+</td>
    </tr>
    <tr>
        <td>Stemcell version</td>
        <td>v97.34</td>
    </tr>
    <tr>
        <td>Kubernetes version</td>
        <td>v1.11.5</td>
    </tr>
    <tr>
        <td>On-Demand Broker version</td>
        <td>v0.24</td>
    </tr>
    <tr>
        <td>NSX-T versions</td>
        <td>v2.2, v2.3</td>
    </tr>
    <tr>
        <td>NCP version</td>
        <td>v2.3</td>
    </tr>
</table>

### <a id="v1.2.3-iaas"></a>Feature Support by IaaS

<table>
  <tr>
    <th></th>
    <th>AWS</th>
    <th>GCP</th>
    <th>vSphere</th>
    <th>vSphere with NSX-T</th>
  </tr>
  <tr>
    <th>Automatic PKS control plane load balancer</th>
    <td>&check;<sup>&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <th>Automatic cluster load balancer</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>HTTP proxy</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Multi-AZ storage</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Per-namespace subnets</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Service <code>type:LoadBalancer</code></th>
    <td>&check;<sup>&#42;&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td>&check;</td>
  </tr>
</table>

<sup>&#42;</sup> Enter the load balancer name in the **Resource Config** tab to connect the load balancer to the PKS control plane. For more information, see the [Resource Config](installing-pks-aws.html#resource-config) section of _Installing PKS on AWS_.

<sup>&#42;&#42;</sup> For more information about configuring Service `type:LoadBalancer` on AWS, see the [Access Workloads Using an Internal AWS Load Balancer](deploy-workloads.html#internal-lb) section of _Deploying and Accessing Basic Workloads_.

### <a id="v1.2.3-upgrade"></a>Upgrade Path

The supported upgrade paths to PKS v1.2.3 are from PKS v1.1.5 and later.

For more information, see [Upgrading PKS](upgrade-pks.html) and [Upgrading PKS with NSX-T](upgrade-pks-nsxt.html).

### <a id="v1.2.3-whats-new"></a>What's New

PKS v1.2.3 adds support for the following:

* NSX-T and vCenter IaaS proxy.
* Large-sized NSX-T load balancer with bare metal Edge Node.
* You can specify the size of the Pods IP Block subnet using Network Profiles.
* Kubernetes v1.11.5.
* On-demand-broker v0.24.
* Xenial Stemcell v97.34.
* Fix: Issue with mounting NFS Persistent Volumes is resolved.
* Security Fix: addresses [CVE-2018-1002105](https://github.com/kubernetes/kubernetes/issues/71411).

### <a id="v1.2.3-known-issues"></a>Known Issues

There are no known issues.

## <a id="v1.2.2"></a>v1.2.2

**Release Date**: November 14, 2018

### <a id="v1.2.2-snapshot"></a>Product Snapshot

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.2.2</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>November 14, 2018</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.2.2+, v2.3.1+</td>
    </tr>
    <tr>
        <td>Stemcell version</td>
        <td>v97.17</td>
    </tr>
    <tr>
        <td>Kubernetes version</td>
        <td>v1.11.3</td>
    </tr>
    <tr>
        <td>On-Demand Broker version</td>
        <td>v0.23</td>
    </tr>
    <tr>
        <td>NSX-T versions</td>
        <td>v2.2, v2.3</td>
    </tr>
    <tr>
        <td>NCP version</td>
        <td>v2.3</td>
    </tr>
</table>

### <a id="v1.2.2-iaas"></a>Feature Support by IaaS

<table>
  <tr>
    <th></th>
    <th>AWS</th>
    <th>GCP</th>
    <th>vSphere</th>
    <th>vSphere with NSX-T</th>
  </tr>
  <tr>
    <th>Automatic PKS control plane load balancer</th>
    <td>&check;<sup>&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <th>Automatic cluster load balancer</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>HTTP proxy</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Multi-AZ storage</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Per-namespace subnets</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Service <code>type:LoadBalancer</code></th>
    <td>&check;<sup>&#42;&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td>&check;</td>
  </tr>
</table>

<sup>&#42;</sup> Enter the load balancer name in the **Resource Config** tab to connect the load balancer to the PKS control plane. For more information, see the [Resource Config](installing-pks-aws.html#resource-config) section of _Installing PKS on AWS_.

<sup>&#42;&#42;</sup> For more information about configuring Service `type:LoadBalancer` on AWS, see the [Access Workloads Using an Internal AWS Load Balancer](deploy-workloads.html#internal-lb) section of _Deploying and Accessing Basic Workloads_.

### <a id="v1.2.2-upgrade"></a>Upgrade Path

The supported upgrade paths to PKS v1.2.2 are from PKS v1.1.5 and later.

For more information, see [Upgrading PKS](upgrade-pks.html) and [Upgrading PKS with NSX-T](upgrade-pks-nsxt.html).

### <a id="v1.2.2-whats-new"></a>What's New

PKS v1.2.2 includes updates to the containers that underlie sink resources and Wavefront integration. These updates do not add functionality and should not impact existing functionality.

### <a id="v1.2.2-known-issues"></a>Known Issues

There are no known issues.

## <a id="v1.2.1"></a>v1.2.1

**Release Date**: November 2, 2018

### <a id="v1.2.1-snapshot"></a>Product Snapshot

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.2.1</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>November 2, 2018</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.2.2+, v2.3.1+</td>
    </tr>
    <tr>
        <td>Stemcell version</td>
        <td>v97.17</td>
    </tr>
    <tr>
        <td>Kubernetes version</td>
        <td>v1.11.3</td>
    </tr>
    <tr>
        <td>On-Demand Broker version</td>
        <td>v0.23</td>
    </tr>
    <tr>
        <td>NSX-T versions</td>
        <td>v2.2, v2.3</td>
    </tr>
    <tr>
        <td>NCP version</td>
        <td>v2.3</td>
    </tr>
</table>

### <a id="v1.2.1-iaas"></a>Feature Support by IaaS

<table>
  <tr>
    <th></th>
    <th>AWS</th>
    <th>GCP</th>
    <th>vSphere</th>
    <th>vSphere with NSX-T</th>
  </tr>
  <tr>
    <th>Automatic PKS control plane load balancer</th>
    <td>&check;<sup>&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <th>Automatic cluster load balancer</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>HTTP proxy</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Multi-AZ storage</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Per-namespace subnets</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Service <code>type:LoadBalancer</code></th>
    <td>&check;<sup>&#42;&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td>&check;</td>
  </tr>
</table>

<sup>&#42;</sup> Enter the load balancer name in the **Resource Config** tab to connect the load balancer to the PKS control plane. For more information, see the [Resource Config](installing-pks-aws.html#resource-config) section of _Installing PKS on AWS_.

<sup>&#42;&#42;</sup> For more information about configuring Service `type:LoadBalancer` on AWS, see the [Access Workloads Using an Internal AWS Load Balancer](deploy-workloads.html#internal-lb) section of _Deploying and Accessing Basic Workloads_.

### <a id="v1.2.1-upgrade"></a>Upgrade Path

The supported upgrade paths to PKS v1.2.1 are from PKS v1.1.5 and later.

For more information, see [Upgrading PKS](upgrade-pks.html) and [Upgrading PKS with NSX-T](upgrade-pks-nsxt.html).

### <a id="v1.2.1-whats-new"></a>What's New

PKS v1.2.1 adds support for the following:

* Routable pod networks for assigning each pod in a Kubernetes cluster a routable (public) IP address. For more information, see [Routable IP Addresses for Pods](network-profiles.html#routable-pods) in <em>Using Network Profiles (NSX-T Only)</em>.
* Configurable maximum number of worker nodes per Kubernetes cluster. Previously the maximum was 50 and not configurable. For more information, see the *Plans* section of the *Installing PKS* topic for your IaaS. For example, [Plans](installing-pks-vsphere.html#plans) in *Installing PKS on vSphere*.
* Sink resources for Kubernetes clusters. For more information, see [Creating Sink Resources](create-sinks.html).
* Kubernetes v1.11.3.
* Updated On-Demand Broker.
* Updated UAA.

### <a id="v1.2.1-known-issues"></a>Known Issues

There are no known issues.

## <a id="v1.2.0"></a>v1.2.0

**Release Date**: September 27, 2018

### <a id="snapshot"></a>Product Snapshot

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Version</td>
        <td>v1.2.0</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>September 27, 2018</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager versions</td>
        <td>v2.2.2+, v2.3.1+</td>
    </tr>
    <tr>
        <td>Stemcell version</td>
        <td>v97.17</td>
    </tr>
    <tr>
        <td>Kubernetes version</td>
        <td>v1.11.2</td>
    </tr>
    <tr>
        <td>On-Demand Broker version</td>
        <td>v0.22</td>
    </tr>
    <tr>
        <td>NSX-T versions</td>
        <td>v2.2, v2.3</td>
    </tr>
    <tr>
        <td>NCP version</td>
        <td>v2.3</td>
    </tr>
</table>

### <a id="iaas"></a>Feature Support by IaaS

<table>
  <tr>
    <th></th>
    <th>AWS</th>
    <th>GCP</th>
    <th>vSphere</th>
    <th>vSphere with NSX-T</th>
  </tr>
  <tr>
    <th>Automatic PKS control plane load balancer</th>
    <td>&check;<sup>&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <th>Automatic cluster load balancer</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>HTTP proxy</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Multi-AZ storage</th>
    <td></td>
    <td></td>
    <td>&check;</td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Per-namespace subnets</th>
    <td></td>
    <td></td>
    <td></td>
    <td>&check;</td>
  </tr>
  <tr>
    <th>Service <code>type:LoadBalancer</code></th>
    <td>&check;<sup>&#42;&#42;</sup></td>
    <td>&check;</td>
    <td></td>
    <td>&check;</td>
  </tr>
</table>

<sup>&#42;</sup> Enter the load balancer name in the **Resource Config** tab to connect the load balancer to the PKS control plane. For more information, see the [Resource Config](installing-pks-aws.html#resource-config) section of _Installing PKS on AWS_.

<sup>&#42;&#42;</sup> For more information about configuring Service `type:LoadBalancer` on AWS, see the [Access Workloads Using an Internal AWS Load Balancer](deploy-workloads.html#internal-lb) section of _Deploying and Accessing Basic Workloads_.

### <a id="v1.2.0-upgrade"></a>Upgrade Path

The supported upgrade paths to PKS v1.2.0 are from PKS v1.1.5 and later.

For customers who have deployed PKS v1.1.5 with NSX-T, NSX-T v2.2 is the version supported for upgrades to PKS v1.2.0.

For more information, see [Upgrading PKS](upgrade-pks.html) and [Upgrading PKS with NSX-T](upgrade-pks-nsxt.html).

### <a id="v1.2.0"></a>What's New

PKS v1.2.0 adds support for the following:

* Network profiles for per-cluster customization and choice of load balancer size for PKS deployments with NSX-T. For more information, see [Using Network Profiles (NSX-T Only)](network-profiles.html).
* Xenial stemcells.
* Multi-master clusters. For more information, see the *Plans* section of [Installing PKS](installing.html) for your IaaS.
* OpenID Connect (OIDC) authentication strategy in Kubernetes. For more information, see the *Configure OpenID Connect* section of [Installing PKS](installing.html) for your IaaS.
    * Cluster administrators can use LDAP users and groups in `RoleBinding` and `ClusterRoleBinding` objects. For more information, see [Managing Users in PKS with UAA](manage-users.html).
* Namespace sinks. For more information, see [Creating Sink Resources](create-sinks.html).
* PKS can be deployed on Amazon Web Services (AWS). For more information, see the [Amazon Web Services (AWS)](aws-index.html) topic.
* You can specify the number of worker nodes to be installed in parallel. For more information, see the *PKS API* section of [Installing PKS](installing.html) for your IaaS.
* Metrics server is deployed by default. Heapster is still deployed but will be removed in a future release per Kubernetes deprecation notice.
* Support for Horizontal Pod Autoscaling.
* Support for the HostPort feature to allow pods to open external ports on the worker node.
* ETCD release v3.3.9.
* Updated admission controllers based on Kubernetes recommendations, including `DefaultTolerationSeconds` and `ValidatingAdminssionWebhook`. `NamespaceExists` has been removed.
* Changed Docker storage driver from `overlay` to `overlay2`. The old images will remain on each worker in the `/var/vcap/data/docker/docker/overlay` directory.
* Support for the NTLM formatted usernames for vSphere.
* Improved drain script for large cluster upgrades.
* Deprecated support for NSX-T v2.1.
* Fix: vSphere credentials are not stored in the BOSH manifest.

### <a id="v1.2.0-known-issues"></a>Known Issues

* If you use a space in any field entry in the PKS tile, the deployment of PKS fails.
Ensure your field entries in the PKS tile do not contain leading and trailing spaces or spaces between characters.
* When the PKS tile is being redeployed (during PKS tile upgrade, for instance), the following error message may appear in the Ops Manager status log: `Failed Jobs: pks-api`. The workaround is to disable telemetry data collection in the **Usage Data** pane of the PKS tile.
* For PKS with NSX-T, using the **Generate RSA Certificate** option in the **Networking** section of the PKS tile for generating the **NSX Manager Super User Principal Identity Certificate** results in the following error during deployment of PKS:

    ```
    ERROR: NSX-T Precheck failed due to error code:
    403, error message: The credentials were incorrect
    or the account specified has been locked.
    ```
    <br>
    This error is the result of a change in the cURL version as part of the stemcell upgrade from Ubuntu v14.04 to v16.04. In Ubuntu 16.04, cURL comes with GnuTLS instead of OpenSSL. For a workaround, use the manual approach for generating the principle identity certificate and key as described in [Generating and Registering the NSX Manager Superuser Principal Identity Certificate and Key](generate-nsx-pi-cert.html).
* Namespace sinks do not work in environments without internet access.
* Due to a limitation with the NSX-T v2.2 scheduler component, VMware recommends that you do not use a medium-sized load balancer at this time, even if the NSX-T edge cluster has more than two edge node VMs. This limitation is addressed in NSX-T v2.3, which PKS v1.2.0 supports.
* When using AWS, you must select a VM type under **Master/ETCD VM Type**, **Worker VM Type**, and **Errand VM Type** in the **Plans** section of the PKS tile in order to save a plan on the tile. You cannot leave the VM type on **Automatic**. The recommended minimum VM type is `t2.medium`.
* Existing certificates will expire after a year. The certificates will be updated in a future release.
* The **External Groups Whitelist** field in the **UAA** section of the PKS tile has a 4000 character limit due to the size limitation of JWT tokens.
* In an internetless environment, the images for the kube-system components must be present within the environment to allow the `overlay2` upgrade.
* Kubernetes end users must manually configure their kubeconfig in order to use their LDAP credentials if OIDC is turned on.
* UAA refresh token for OIDC authorization is currently not supported.
* When creating a cluster with the `pks create-cluster` command, you cannot use the `\` character in the value for `--external-hostname`. For more information about creating clusters, see the [Create a Kubernetes Cluster
](create-cluster.html#create) section of <em>Creating Clusters</em>.
* When a cluster is created, the output logs will contain the following warning: `Warning: DNS address not available for the link provider instance: pivotal-container-service/[uuid]`. It has no effect on the cluster creation.
* Enabling Telemetry on environments without Internet access causes tile installation to fail.
* When **Enable UAA as OIDC Provider** is selected in the **UAA** pane of the PKS tile,
the Kubernetes Dashboard no longer works with the kubeconfig option.
Currently, external identity providers and certificate-based authentication are not supported in Kubernetes.
